@model Universal.DTO.IDTO.UsersIDTO

@{
	ViewData["Title"] = "New User";
}

<div class="container bg-light w-50">
	<div class="text-center">
		<h2>Add New User</h2>
	</div>
	@using (Html.BeginForm("AddUser", "Dashboard", FormMethod.Post, new { enctype = "multipart/form-data" }))
	{
		<div class="row">
			<div class="form-group col-6 mb-3">
				@Html.LabelRequiredFor(model => model.Role, "Role:", true)
				@Html.DropDownListFor(model => model.Role, new List<SelectListItem>
			{
			new SelectListItem() { Text = "User", Value = "User"},
			new SelectListItem() { Text = "Admin", Value = "Admin"}
			},
			"Select Role", new { @class="form-control" })
				@Html.ValidationMessageFor(model => model.Role, null, new { @class="text-danger" })
			</div>
			<div class="form-group col-6 mb-3">
				@Html.LabelFor(model => model.UserType, "User type:")
				@Html.DropDownListFor(model => model.UserTypes, new List<SelectListItem>
			{
			new SelectListItem() { Text = "Private", Value = "Private"},
			new SelectListItem() { Text = "Company", Value = "Company"}
			},
			"Select User Type", new { @class="form-control" })
				@Html.ValidationMessageFor(model => model.UserTypes, null, new { @class="text-danger" })
			</div>
		</div>
		<div class="row">
			<div class="form-group col-6 mb-3">
				@Html.LabelRequiredFor(model => model.FirstName, "First name:", true)
				@Html.TextBoxFor(model => model.FirstName, new { @class="form-control", placeholder = "First Name"})
				@Html.ValidationMessageFor(model => model.FirstName, null, new { @class="text-danger" })
			</div>
			<div class="form-group col-6 mb-3">
				@Html.LabelRequiredFor(model => model.LastName, "Last name:", true)
				@Html.TextBoxFor(model => model.LastName, new { @class="form-control", placeholder = "Last Name"})
				@Html.ValidationMessageFor(model => model.LastName, null, new { @class="text-danger" })
			</div>
		</div>
		<div class="form-group col-12 mb-3">
			@Html.LabelRequiredFor(model => model.Email, "Email:", true)
			@Html.TextBoxFor(model => model.Email, null, new { @class="form-control", placeholder = "Email"})
			@Html.ValidationMessageFor(model => model.Email, null, new { @class="text-danger" })
		</div>
		<div class="row">
			<div class="form-group col-6 mb-3">
				@Html.LabelFor(model => model.Phone, "Phone:")
				@Html.TextBoxFor(model => model.Phone, new { @class="form-control", placeholder = "Phone"})
				@Html.ValidationMessageFor(model => model.Phone, null, new { @class="text-danger" })
			</div>
			<div class="form-group col-6 mb-3">
				@Html.LabelFor(model => model.Address, "Address:")
				@Html.TextBoxFor(model => model.Address, new { @class="form-control", placeholder = "Address"})
				@Html.ValidationMessageFor(model => model.Address, null, new { @class="text-danger" })
			</div>
		</div>
		<div class="row">
			<div class="form-group col-5 mb-3">
				@Html.LabelFor(model => model.Country, "Country:")
				@Html.TextBoxFor(model => model.Country, new { @class="form-control", placeholder = "Country"})
				@Html.ValidationMessageFor(model => model.Country, null, new { @class="text-danger" })
			</div>
			<div class="form-group col-5 mb-3">
				@Html.LabelFor(model => model.City, "City:")
				@Html.TextBoxFor(model => model.City, new { @class="form-control", placeholder = "City"})
				@Html.ValidationMessageFor(model => model.City, null, new { @class="text-danger" })
			</div>
			<div class="form-group col-2 mb-3">
				@Html.LabelFor(model => model.Zip, "Zip:")
				@Html.TextBoxFor(model => model.Zip, new { @class="form-control", placeholder = "Zip"})
				@Html.ValidationMessageFor(model => model.Zip, null, new { @class="text-danger" })
			</div>
		</div>
		@*<div class="form-group col-6 mb-3">
	@Html.PasswordFor(model => model.Password, new { @class="form-control", placeholder = "Password"})
	@Html.ValidationMessageFor(model => model.Password, null, new { @class="text-danger" })
	</div>*@
		<div class="row">
			<div class="form-group col-10 mb-3">
				@Html.LabelRequiredFor(model => model.Avatar, "Avatar:", true)
				<input type="file" name="Avatar" runat="server" class="form-control" onchange="loadFile(event)" />

				@*@Html.ValidationMessageFor(model => model.Avatar, null, new { @class="text-danger" })*@
			</div>
			<div class="form-group col-2 mb-3 text-center">
				<img id="avatar-preview" width="75" height="75" style="border: 2px solid red">
			</div>
		</div>
		<div class="mx-auto mb-3 w-25">
			<input type="submit" value="Save" class="form-control p-2 bg-success text-light" />
		</div>
	}
</div>

@section Scripts{
	<script>
		var loadFile = function (event) {
			var image = document.getElementById('avatar-preview');
			image.src = URL.createObjectURL(event.target.files[0]);
		};
	</script>
	}